{"version":3,"sources":["consts.js","lib/utils/createConstants.js","components/layout/Header.js","lib/components/StopClickPropagation.js","assets/logo/Logo.js","components/layout/Footer.js","lib/utils/clearUtmParams.js","utils.js","components/GA.js","components/layout/Root.js","components/Map.js","lib/components/TextWithSeparator.js","lib/components/OnEscape.js","components/CrossSvgIcon.js","components/LegendModal.js","index.js"],"names":["GA_ID","LIGHT_STYLE","concat","MINSK","BELARUS_BOUNDS","zIndexElements","PropTypes","shape","id","string","isRequired","title","coordinates","arrayOf","number","text","emoji","_len","arguments","length","constants","Array","_key","reduce","acc","constant","createConstants","zIndexes","MAP","MARKER","CONTROLS","LABELS","LEGENDS_MODAL","cur","index","Header","react_default","a","createElement","className","style","zIndex","StopClickPropagation","handleStopPropagation","event","stopPropagation","_this$props","this","props","tag","children","React","onClick","Component","defaultProps","Logo","_ref","size","Object","objectWithoutProperties","assign","width","height","viewBox","x1","y1","x2","y2","stopColor","offset","d","transform","fill","fillRule","Footer","logo_Logo","components_StopClickPropagation","href","target","rel","clearUtmParams","_window","window","location","history","search","indexOf","replaceState","toString","replace","getGoogleMapsUrl","_ref2","slicedToArray","lng","lat","zoom","undefined","pageView","options","ReactGA","ga","pathname","track","objectSpread","category","isDesktopDevice","innerHeight","innerWidth","GA","initialize","debug","process","hitCallback","Root","components_GA","layout_Header","layout_Footer","Mapbox","ReactMapboxGl","accessToken","logoPosition","minZoom","maxZoom","getFitBoundsOptions","padding","left","rightShift","top","topShift","bottom","right","Map","state","handleZoom","map","_this","nextZoom","Math","round","getZoom","setState","calculateShifts","match","resizeMap","setTimeout","resize","fitBounds","addEventListener","prevProps","removeEventListener","_this2","legends","Fragment","containerStyle","position","fitBoundsOptions","center","onZoom","onSourceDataLoading","movingMethod","lib_esm","filter","legendId","legend","emojiCode","key","es","to","alt","src","components_Map","path","_ref3","Map_Map","TextWithSeparator","symbol","separator","paragraphs","split","lastParagraphIndex","paragraph","i","react","OnEscape","handleKeyDown","action","CrossSvgIcon","LegendEmoji","_ref$legend","LegendModal","legendsById","useEffect","label","LegendModal_LegendEmoji","formatcoords","format","latLonSeparator","decimalPlaces","components_TextWithSeparator","type","components_CrossSvgIcon","OnEscape_OnEscape","navigate","rootElement","document","getElementById","ReactDOM","render","layout_Root","basepath","components_LegendModal","noThrow","from"],"mappings":"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","file":"static/js/main.c3e6f5d3.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nimport createConstants from 'lib/utils/createConstants';\n\nexport const MAPBOX_ACCESS_TOKEN =\n  'pk.eyJ1IjoidWxhZGJvaGRhbiIsImEiOiJjam9kMDQ1NzYxOTYyM3FvanhpOXE1cDIzIn0.JiXb8lR9e53GqZz51PZdaQ';\n\nexport const GA_ID = {\n  staging: 'UA-117143376-4',\n  production: 'UA-117143376-3',\n};\n\nconst STYLE_PREFIX = 'mapbox://styles/uladbohdan';\n\nexport const LIGHT_STYLE = `${STYLE_PREFIX}/cjpjxmip00js22snnkwi85d4i`;\n\nexport const MINSK = [27.5615, 53.9045];\n\nexport const BELARUS_BOUNDS = [\n  23.178357, // west\n  51.261881, // south\n  32.776784, // east\n  56.139922, // north\n];\n\nexport const EMOJI_SCALE_RATE = 4.5;\n\nexport const LegendShape = PropTypes.shape({\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  coordinates: PropTypes.arrayOf(PropTypes.number).isRequired,\n  text: PropTypes.string.isRequired,\n  emoji: PropTypes.string.isRequired,\n});\n\nexport const zIndexElements = createConstants(\n  'MAP',\n  'MARKER',\n  'CONTROLS',\n  'LABELS',\n  'LEGENDS_MODAL'\n);\n\nexport const zIndexes = [\n  zIndexElements.MAP,\n  zIndexElements.MARKER,\n  zIndexElements.CONTROLS,\n  zIndexElements.LABELS,\n  zIndexElements.LEGENDS_MODAL,\n].reduce((acc, cur, index) => {\n  acc[cur] = index;\n  return acc;\n}, {});\n","export default (...constants) =>\n  constants.reduce((acc, constant) => {\n    acc[constant] = constant;\n    return acc;\n  }, {});\n","import React from 'react';\n\nimport { zIndexes, zIndexElements } from 'consts';\n\nconst Header = () => (\n  <div className=\"title\" style={{ zIndex: zIndexes[zIndexElements.LABELS] }}>\n    Мапа\n    <br />\n    беларускіх\n    <br />\n    легенд\n  </div>\n);\n\nexport default Header;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass StopClickPropagation extends Component {\n  static propTypes = {\n    tag: PropTypes.string,\n    className: PropTypes.string,\n    children: PropTypes.node.isRequired,\n  };\n\n  static defaultProps = {\n    tag: 'div',\n    className: '',\n  };\n\n  handleStopPropagation = event => {\n    event.stopPropagation();\n  };\n\n  render() {\n    const { tag, className, children } = this.props;\n\n    return React.createElement(\n      tag,\n      {\n        className,\n        onClick: this.handleStopPropagation,\n      },\n      children\n    );\n  }\n}\n\nexport default StopClickPropagation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// https://github.com/smooth-code/svgr\n\nconst Logo = ({ size, ...props }) => (\n  <svg width={size} height={size} viewBox=\"0 0 400 400\" {...props}>\n    <defs>\n      <linearGradient x1=\"50%\" y1=\"0%\" x2=\"50%\" y2=\"100%\" id=\"logo_svg__a\">\n        <stop stopColor=\"#13937E\" offset=\"0%\" />\n        <stop stopColor=\"#2B8D7C\" offset=\"49.177%\" />\n        <stop stopColor=\"#182B1C\" offset=\"100%\" />\n      </linearGradient>\n    </defs>\n    <path\n      d=\"M269.995 50C159.545 50 70 139.587 70 250.096c0 13.313 1.24 26.394 3.61 39.078 1.91 8.21 24.377 96.379 104.265 85.638 26.76-3.599 42.74-29.213 42.74-29.213s-21.65 16.843-43.31 17.099c-49.007.57-86.617-45.04-82.163-114.632 6.227-97.29 92.266-156.178 171.402-156.178 89.467 0 154.654 74.687 154.654 156.178 0 75.298-32.833 112.183-32.833 112.183s56.11-220.639-157.762-226.28c92.744 23.598 121.077 110.713 82.605 172.186 4.55-54.764-30.288-128.178-104.073-117.76-63.445 8.962-88.815 87.644-68.3 117.86 19.284 28.402 55.271 35.348 84.908-11.968-22.63 25.51-64.393 23.946-63.824-4.565 1.46-72.958 111.692-72.972 111.692 0 0 56.67-45.406 135.074-108.733 118.996 54.861 19.663 138.228 14.96 187.276-96.191 1.423 72.98-30.484 113.263-73.83 137.455C384.92 445.612 470 357.808 470 250.096 470 139.587 380.456 50 269.995 50z\"\n      transform=\"translate(-70 -50)\"\n      fill=\"url(#logo_svg__a)\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nLogo.propTypes = {\n  size: PropTypes.number.isRequired,\n};\n\nexport default Logo;\n","import React from 'react';\n\nimport StopClickPropagation from 'lib/components/StopClickPropagation';\nimport Logo from 'assets/logo/Logo';\n\nimport { zIndexes, zIndexElements } from 'consts';\n\nconst Footer = () => (\n  <div className=\"wir\" style={{ zIndex: zIndexes[zIndexElements.LABELS] }}>\n    <Logo size={32} className=\"wir__logo\" />\n    <StopClickPropagation>\n      зроблена камандай\n      <a\n        className=\"wir__link\"\n        href=\"http://wir.by?utm_source=map\"\n        target=\"_blank\"\n        rel=\"noreferrer noopener\"\n      >\n        wir.by\n      </a>\n    </StopClickPropagation>\n  </div>\n);\n\nexport default Footer;\n","export default () => {\n  const { location, history } = window;\n  const isUtmsInQuery = location.search.indexOf('utm_') !== -1;\n  if (isUtmsInQuery && history.replaceState) {\n    history.replaceState({}, '', location.toString().replace(/(&|\\?)utm([_a-z0-9=]+)/g, ''));\n  }\n};\n","import ReactGA from 'react-ga';\n\nexport const getGoogleMapsUrl = ([lng, lat], zoom = 7) =>\n  `http://www.google.com/maps/place/${lat},${lng}/@${lat},${lng},${zoom}z`;\n\nexport const pageView = options => {\n  if (!process.env.REACT_APP_WIR_ENV) {\n    return;\n  }\n  ReactGA.ga('send', 'pageview', window.location.pathname, options);\n};\n\nexport const track = options => {\n  if (!process.env.REACT_APP_WIR_ENV) {\n    return;\n  }\n  ReactGA.event({ category: 'Legends Map', ...options });\n};\n\nexport const isDesktopDevice = () => window.innerHeight < window.innerWidth;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactGA from 'react-ga';\n\nimport clearUtmParams from 'lib/utils/clearUtmParams';\n\nimport { pageView } from 'utils';\nimport { GA_ID } from 'consts';\n\nclass GA extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  };\n\n  componentDidMount() {\n    if (process.env.REACT_APP_WIR_ENV) {\n      ReactGA.initialize(GA_ID[process.env.REACT_APP_WIR_ENV], {\n        debug: process.env.REACT_APP_WIR_ENV !== 'production',\n      });\n      pageView({ hitCallback: clearUtmParams });\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return children;\n  }\n}\n\nexport default GA;\n","import React from 'react';\n\nimport Header from 'components/layout/Header';\nimport Footer from 'components/layout/Footer';\nimport GA from 'components/GA';\n\nconst Root = ({ children }) => {\n  return (\n    <GA>\n      <Header />\n      <main>{children}</main>\n      <Footer />\n    </GA>\n  );\n};\n\nexport default Root;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Match } from '@reach/router';\nimport ReactMapboxGl, { Marker, ZoomControl } from 'react-mapbox-gl';\n\nimport { isDesktopDevice } from 'utils';\n\nimport {\n  MAPBOX_ACCESS_TOKEN,\n  LIGHT_STYLE,\n  MINSK,\n  BELARUS_BOUNDS,\n  EMOJI_SCALE_RATE,\n  LegendShape,\n  zIndexes,\n  zIndexElements,\n} from 'consts';\n\nconst Mapbox = ReactMapboxGl({\n  accessToken: MAPBOX_ACCESS_TOKEN,\n  logoPosition: 'bottom-right',\n  minZoom: 4,\n  maxZoom: 6.5,\n});\n\n// NOTE: When rendering many objects,\n// avoid using `Markers` as it will negatively affect performance.\n// Use `Layers` and `Features` instead.\n// https://github.com/alex3165/react-mapbox-gl/blob/master/docs/API.md#marker\n\nconst getFitBoundsOptions = ({ rightShift, topShift }) => ({\n  padding: {\n    left: rightShift ? 250 : 25,\n    top: topShift ? 100 : 25,\n    bottom: 25,\n    right: 25,\n  },\n});\n\nclass Map extends Component {\n  static propTypes = {\n    legends: PropTypes.arrayOf(LegendShape).isRequired,\n    children: PropTypes.node.isRequired,\n    match: PropTypes.shape({\n      legendId: PropTypes.string.isRequired,\n    }),\n  };\n\n  static defaultProps = {\n    match: null,\n  };\n\n  state = {\n    zoom: null,\n  };\n\n  componentDidMount() {\n    window.addEventListener('resize', this.resizeMap);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { match } = this.props;\n    if (prevProps.match !== match) {\n      this.resizeMap();\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resizeMap);\n  }\n\n  handleZoom = map => {\n    const { zoom } = this.state;\n    const nextZoom = Math.round(map.getZoom());\n    if (nextZoom !== zoom) {\n      this.setState({ zoom: nextZoom });\n    }\n  };\n\n  calculateShifts = () => {\n    const { match } = this.props;\n    return {\n      rightShift: isDesktopDevice() && !match,\n      topShift: !isDesktopDevice(),\n    };\n  };\n\n  resizeMap = () => {\n    setTimeout(() => {\n      this.map.resize();\n      this.map.fitBounds(BELARUS_BOUNDS, getFitBoundsOptions(this.calculateShifts()));\n    }, 10);\n  };\n\n  render() {\n    const { legends, children, match } = this.props;\n    const { zoom } = this.state;\n    return (\n      <>\n        <Mapbox\n          style={LIGHT_STYLE}\n          containerStyle={{\n            position: 'absolute',\n            top: match ? 150 : 0,\n            bottom: 0,\n            width: match ? '50%' : '100%',\n            zIndex: zIndexes[zIndexElements.MAP],\n          }}\n          fitBounds={BELARUS_BOUNDS}\n          fitBoundsOptions={getFitBoundsOptions(this.calculateShifts())}\n          center={MINSK}\n          onZoom={this.handleZoom}\n          // HACK: save `map` object\n          onSourceDataLoading={map => {\n            if (!this.map) {\n              this.map = map;\n            }\n          }}\n          movingMethod=\"easeTo\"\n        >\n          {!match && <ZoomControl style={{ zIndex: zIndexes[zIndexElements.CONTROLS] }} />}\n          {legends\n            .filter(({ id }) => !match || id === match.legendId)\n            .map(legend => {\n              const { id, coordinates, emoji, emojiCode } = legend;\n              return (\n                <Marker\n                  key={id}\n                  coordinates={coordinates}\n                  style={{ zIndex: zIndexes[zIndexElements.MARKER] }}\n                >\n                  <Link className=\"legends__marker\" to={`/legends/${id}`}>\n                    <img\n                      alt={emoji}\n                      src={`/babajka-legends-map/images/${emojiCode}-72.png`}\n                      width={zoom * EMOJI_SCALE_RATE}\n                    />\n                  </Link>\n                </Marker>\n              );\n            })}\n        </Mapbox>\n        {children}\n      </>\n    );\n  }\n}\n\nexport default props => (\n  <Match path=\"/legends/:legendId\">{({ match }) => <Map {...props} match={match} />}</Match>\n);\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nconst TextWithSeparator = ({ text, symbol, separator }) => {\n  const paragraphs = text.split(symbol);\n  const lastParagraphIndex = paragraphs.length - 1;\n\n  return paragraphs.map((paragraph, i) => (\n    // eslint-disable-next-line react/no-array-index-key\n    <Fragment key={i}>\n      {paragraph}\n      {i < lastParagraphIndex && separator}\n    </Fragment>\n  ));\n};\n\nTextWithSeparator.propTypes = {\n  text: PropTypes.string.isRequired,\n  symbol: PropTypes.oneOf(['\\n', '<br/>']),\n  separator: PropTypes.node,\n};\n\nTextWithSeparator.defaultProps = {\n  symbol: '<br/>',\n  separator: <br />,\n};\n\nexport default TextWithSeparator;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class OnEscape extends Component {\n  static propTypes = {\n    action: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = ({ key }) => {\n    const { action } = this.props;\n    if (key === 'Escape') {\n      action();\n    }\n  };\n\n  render() {\n    return null;\n  }\n}\n","import React from 'react';\n\nconst CrossSvgIcon = props => (\n  <svg viewBox=\"0 0 31.112 31.112\" width=\"1em\" height=\"1em\" {...props}>\n    <path\n      fill=\"#1a9582\"\n      d=\"M31.112 1.414L29.698 0 15.556 14.142 1.414 0 0 1.414l14.142 14.142L0 29.698l1.414 1.414L15.556 16.97l14.142 14.142 1.414-1.414L16.97\n 15.556z\"\n    />\n  </svg>\n);\n\nexport default CrossSvgIcon;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport formatcoords from 'formatcoords';\nimport { Link, navigate } from '@reach/router';\n\nimport TextWithSeparator from 'lib/components/TextWithSeparator';\nimport OnEscape from 'lib/components/OnEscape';\n\nimport Header from 'components/layout/Header';\nimport Footer from 'components/layout/Footer';\nimport CrossSvgIcon from 'components/CrossSvgIcon';\n\nimport { getGoogleMapsUrl, track, pageView } from 'utils';\nimport { LegendShape, zIndexes, zIndexElements } from 'consts';\n\nconst LegendEmoji = ({ legend: { emojiCode, emoji } }) => (\n  <img className=\"legend__emoji\" src={`/images/${emojiCode}-144.png`} alt={emoji} />\n);\n\nconst LegendModal = ({ legendId, legendsById }) => {\n  const legend = legendsById[legendId];\n  const { emoji, coordinates, title, text } = legend;\n  useEffect(() => {\n    track({ action: 'emoji-clicked', label: `${emoji} ${title}` });\n    pageView();\n  }, []);\n  return (\n    <div className=\"legend__modal\" style={{ zIndex: zIndexes[zIndexElements.LEGENDS_MODAL] }}>\n      <div className=\"legend__content\">\n        <Link className=\"legend__left\" to=\"/legends\">\n          <Header />\n          <LegendEmoji legend={legend} />\n        </Link>\n        <Footer />\n        <div className=\"legend__right\">\n          <div className=\"legend__top\">\n            <div className=\"legend__emoji-wrapper\">\n              <LegendEmoji legend={legend} />\n            </div>\n            <a\n              href={getGoogleMapsUrl(coordinates)}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              onClick={() => track({ action: 'google-map-opened', label: `${emoji} ${title}` })}\n            >\n              {formatcoords(coordinates, true).format('DD MM X', {\n                latLonSeparator: ', ',\n                decimalPlaces: 2,\n              })}\n            </a>\n            <div className=\"legend__title\">{title}</div>\n          </div>\n          <div className=\"legend__text\">\n            <TextWithSeparator\n              text={text}\n              symbol={`\\n`}\n              separator={\n                <>\n                  <br />\n                  <br />\n                </>\n              }\n            />\n          </div>\n        </div>\n        <Link to=\"/legends\" type=\"button\" className=\"legend__close-button\">\n          <CrossSvgIcon className=\"legend__close-icon\" />\n        </Link>\n        <OnEscape action={() => navigate('/legends')} />\n      </div>\n    </div>\n  );\n};\n\nLegendModal.propTypes = {\n  legendId: PropTypes.string,\n  legendsById: PropTypes.objectOf(LegendShape).isRequired,\n};\n\nLegendModal.defaultProps = {\n  legendId: null,\n};\n\nexport default LegendModal;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Redirect } from '@reach/router';\n\nimport Root from 'components/layout/Root';\nimport Map from 'components/Map';\nimport LegendModal from 'components/LegendModal';\n\nimport 'styles.scss';\nimport legends from 'legends.json';\n\nconst legendsById = legends.reduce((acc, cur) => {\n  acc[cur.id] = cur;\n  return acc;\n}, {});\n\nconst App = () => (\n  <Root basepath=\"/babajka-legends-map\">\n    <Router>\n      <Map path=\"legends\" legends={legends}>\n        <LegendModal path=\":legendId\" legendsById={legendsById} />\n      </Map>\n      <Redirect noThrow from=\"*\" to=\"legends\" />\n    </Router>\n  </Root>\n);\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}