{"version":3,"sources":["Clickable.js","constants.js","index.js"],"names":["Clickable","_ref","onClick","children","props","Object","objectWithoutProperties","react_default","a","createElement","assign","role","tabIndex","onKeyDown","event","key","LIGHT_STYLE","concat","MINSK","BELARUS_BOUNDS","Map","ReactMapboxGl","accessToken","App","state","activeLegendId","legendsById","keyBy","_this","legends","_this2","this","_this$state","activeLegend","center","fitBoundsOptions","Fragment","style","containerStyle","position","top","bottom","width","fitBounds","padding","map","id","coordinates","emoji","lib_esm","src_Clickable","className","setState","dangerouslySetInnerHTML","__html","emojione","shortnameToImage","offset","title","text","Component","rootElement","document","getElementById","ReactDOM","render","src_App","require"],"mappings":"kxnHAwBeA,EArBG,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAASC,EAAZF,EAAYE,SAAaC,EAAzBC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,+BAChBM,EAAAC,EAAAC,cAAA,OAAAJ,OAAAK,OAAA,CACEC,KAAK,SACLC,SAAU,EACVV,QAASA,EACTW,UAAW,SAAAC,GACS,UAAdA,EAAMC,KACRb,EAAQY,KAGRV,GAEHD,ICVQa,EAAW,GAAAC,OAFH,6BAEG,8BAEXC,EAAQ,CAAC,QAAS,SAElBC,EAAiB,CAC5B,UACA,UACA,UACA,WCDIC,UAAMC,YAAc,CACxBC,YDZA,mGCoBIC,6MAaJC,MAAQ,CACNC,eAAgB,KAChBC,YAAaC,IAAMC,EAAKxB,MAAMyB,QAAS,+EAGhC,IAAAC,EAAAC,KACCF,EAAYE,KAAK3B,MAAjByB,QADDG,EAE2DD,KAAKP,MAA/DC,EAFDO,EAECP,eAAgBC,EAFjBM,EAEiBN,YAClBO,GAHCD,EAE8BE,OAF9BF,EAEsCG,iBACxBT,EAAYD,IACjC,OACElB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4B,SAAA,KACE7B,EAAAC,EAAAC,cAACW,EAAD,CACEiB,MAAOrB,EACPsB,eAAgB,CACdC,SAAU,WACVC,IAAK,EACLC,OAAQ,EACRC,MAAO,QAGTC,UAAWxB,EACXgB,iBAAkB,CAChBS,QAAS,IAEXV,OAAQhB,GAEPW,EAAQgB,IAAI,SAAA5C,GAAA,IAAG6C,EAAH7C,EAAG6C,GAAIC,EAAP9C,EAAO8C,YAAaC,EAApB/C,EAAoB+C,MAApB,OACXzC,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAQlC,IAAK+B,EAAIC,YAAaA,GAC5BxC,EAAAC,EAAAC,cAACyC,EAAD,CAAWC,UAAU,SAASjD,QAAS,kBAAM4B,EAAKsB,SAAS,CAAE3B,eAAgBqB,MAC3EvC,EAAAC,EAAAC,cAAA,OAAK4C,wBAAyB,CAAEC,OAAQC,IAASC,iBAAiBR,UAIvEf,GACC1B,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAOlC,IAAKkB,EAAaa,GAAIC,YAAad,EAAac,YAAaU,OAAQ,IAC1ElD,EAAAC,EAAAC,cAAA,OAAK0C,UAAU,SACb5C,EAAAC,EAAAC,cAAA,WAAMwB,EAAayB,UAK3BnD,EAAAC,EAAAC,cAAA,OAAK0C,UAAU,eAAelB,GAAgBA,EAAa0B,cAtDjDC,aA4DZC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO1D,EAAAC,EAAAC,cAACyD,EAAD,CAAKrC,QAASsC,EAAQ,OAAkBN","file":"static/js/main.771dcd9d.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Clickable = ({ onClick, children, ...props }) => (\n  <span\n    role=\"button\"\n    tabIndex={0}\n    onClick={onClick}\n    onKeyDown={event => {\n      if (event.key === 'Enter') {\n        onClick(event);\n      }\n    }}\n    {...props}\n  >\n    {children}\n  </span>\n);\n\nClickable.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Clickable;\n","export const ACCESS_TOKEN =\n  'pk.eyJ1IjoidWxhZGJvaGRhbiIsImEiOiJjam9kMDQ1NzYxOTYyM3FvanhpOXE1cDIzIn0.JiXb8lR9e53GqZz51PZdaQ';\n\nconst STYLE_PREFIX = 'mapbox://styles/uladbohdan';\n\nexport const LIGHT_STYLE = `${STYLE_PREFIX}/cjpjxmip00js22snnkwi85d4i`;\n\nexport const MINSK = [27.5615, 53.9045];\n\nexport const BELARUS_BOUNDS = [\n  23.178357, // west\n  51.261881, // south\n  32.776784, // east\n  56.139922, // north\n];\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ReactMapboxGl, { Marker, Popup } from 'react-mapbox-gl';\nimport keyBy from 'lodash/keyBy';\nimport emojione from 'emojione';\n\nimport Clickable from './Clickable';\n\nimport { ACCESS_TOKEN, LIGHT_STYLE, MINSK, BELARUS_BOUNDS } from './constants';\nimport './styles.css';\n\nconst Map = ReactMapboxGl({\n  accessToken: ACCESS_TOKEN,\n});\n\n// NOTE: When rendering many objects,\n// avoid using `Markers` as it will negatively affect performance.\n// Use `Layers` and `Features` instead.\n// https://github.com/alex3165/react-mapbox-gl/blob/master/docs/API.md#marker\n\nclass App extends Component {\n  static propTypes = {\n    legends: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        title: PropTypes.string.isRequired,\n        coordinates: PropTypes.arrayOf(PropTypes.number).isRequired,\n        text: PropTypes.string.isRequired,\n        emoji: PropTypes.string.isRequired,\n      })\n    ).isRequired,\n  };\n\n  state = {\n    activeLegendId: null,\n    legendsById: keyBy(this.props.legends, 'id'),\n  };\n\n  render() {\n    const { legends } = this.props;\n    const { activeLegendId, legendsById, center, fitBoundsOptions } = this.state;\n    const activeLegend = legendsById[activeLegendId];\n    return (\n      <>\n        <Map\n          style={LIGHT_STYLE}\n          containerStyle={{\n            position: 'absolute',\n            top: 0,\n            bottom: 0,\n            width: '100%',\n          }}\n          // TODO: fix calling `fitBounds` on window resizing\n          fitBounds={BELARUS_BOUNDS}\n          fitBoundsOptions={{\n            padding: 25,\n          }}\n          center={MINSK}\n        >\n          {legends.map(({ id, coordinates, emoji }) => (\n            <Marker key={id} coordinates={coordinates}>\n              <Clickable className=\"marker\" onClick={() => this.setState({ activeLegendId: id })}>\n                <div dangerouslySetInnerHTML={{ __html: emojione.shortnameToImage(emoji) }} />\n              </Clickable>\n            </Marker>\n          ))}\n          {activeLegend && (\n            <Popup key={activeLegend.id} coordinates={activeLegend.coordinates} offset={50}>\n              <div className=\"popup\">\n                <div>{activeLegend.title}</div>\n              </div>\n            </Popup>\n          )}\n        </Map>\n        <div className=\"legend-text\">{activeLegend && activeLegend.text}</div>\n      </>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App legends={require('./legends')} />, rootElement);\n"],"sourceRoot":""}